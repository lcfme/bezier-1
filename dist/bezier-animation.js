!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.bezierAnimation=e():t.bezierAnimation=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=4)}([function(t,e,n){(function(e){var n=["moz","webkit"],r="AnimationFrame",i=e||window,o=i["request"+r],s=o,a=i["cancel"+r]||i["cancelRequest"+r],u=a;if(!o)for(var c=0;c<n.length;c++)o=i[n[c]+"Request"+r],a=i[n[c]+"Cancel"+r]||i[n+"CancelRequest"+r];if(!o||!a){var f=0,l=0,p=[];o=function(t){if(0==p.length){var e=Date.now(),n=Math.max(0,1e3/60-e+f),r=0==f?Math.round(1e3/60):Math.round(n);f=e+Math.round(n),setTimeout(function(){var t=p.slice(0);p.length>0&&(p=[]);for(var e=0,n=t.length;e<n;e++)try{t[e].canceled||t[e].callback(f)}catch(t){setTimeout(function(){throw t})}},r)}return p.push({id:++l,callback:t,canceled:!1}),l},a=function(t){for(var e=0,n=p.length;e<n;e++)p[e].id===t&&(p[e].canceled=!0)}}t.exports=function(t){return o.call(i,t)},t.exports.cancel=function(){a.apply(i,arguments)},t.exports.polyfill=function(){i.requestAnimationFrame=o,i.cancelAnimationFrame=a},t.exports.unPolyfill=function(){i.requestAnimationFrame=s,i.cancelAnimationFrame=u}}).call(e,n(3))},function(t,e){function n(t,e,n,r){this.cx=3*t,this.bx=3*(n-t)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*e,this.by=3*(r-e)-this.cy,this.ay=1-this.cy-this.by}var r=n.prototype;r.sampleCurveX=function(t){return((this.ax*t+this.bx)*t+this.cx)*t},r.sampleCurveY=function(t){return((this.ay*t+this.by)*t+this.cy)*t},r.sampleCurveDerivativeX=function(t){return(3*this.ax*t+2*this.bx)*t+this.cx},r.solveCurveX=function(t){for(var e,n,r=Math.abs,i=t,o=0;o<8;o++){if(n=this.sampleCurveX(i)-t,r(n)<1e-6)return i;if(e=this.sampleCurveDerivativeX(i),r(e)<1e-6)break;i-=n/e}var s=1,a=0;for(i=t;s>a;){if(n=this.sampleCurveX(i)-t,r(n)<1e-6)return i;n>0?s=i:a=i,i=(s+a)/2}return i},r.solve=function(t){return this.sampleCurveY(this.solveCurveX(t))},n.linear=new n(0,0,1,1),n.ease=new n(.25,.1,.25,1),n.easeIn=new n(.42,0,1,1),n.easeOut=new n(0,0,.58,1),n.easeInOut=new n(.42,0,.58,1),t.exports=n},function(t,e,n){function r(t){function e(t){n()}this.execute=function(n,r){return i(function(){n.progress=(n.passedTime+Date.now()-(n.startTime?n.startTime:Date.now()))/(1e3*n.duration),n.progress>=1&&(n.progress=1);for(var i=0,o=t.length;i<o;i++)t[i].call(null,n.progress.toFixed(6),r.solve(n.progress).toFixed(6));e()}),this};var n;this.then=function(t){"function"==typeof t&&(n=t)}}var i=n(0);t.exports=r},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){function r(t,e,n,o,u){if(!this instanceof r)return new r(t,e,n,o);var c,f=i(e);"function"==typeof n?c=new s([n]):"[object Array]"===Object.prototype.toString.call(n)&&(c=new s(n)),o||(o=0),/^[1-9]\d+$/.test(u)?u=parseInt(u):u?"infinite"===u&&(m=1):u=1;var l=!1,p=!0,h=null,m=u,v={startTime:0,passedTime:0,duration:t,progress:0};this.play=function(t){function e(){c.execute(v,f).then(function(){i()})}function n(){l=!1,p=!0,v.passedTime=0,v.startTime=0,v.progress=0,m=u,h=null;for(var t=0,e=d.length;t<e;t++)d[t]()}function r(){v.startTime=0,v.progress=0}function i(){l&&(v.progress>=1?"infinite"!==u?(m--,m>0?(r(),s.play(!0)):n()):(r(),s.play(!0)):e())}if(v.startTime||(v.startTime=Date.now()),l){if(!t)return this;if(0==m)return this}console.log("重新开始"),p&&(p=!1),l=!0;var s=this;return o?h?e():h=setTimeout(function(){v.startTime=Date.now(),e()},1e3*o):e(),this},this.stop=function(){if(!l)return this;v.passedTime=v.passedTime+(Date.now()-v.startTime),v.startTime=0,l=!1},this.getStatus=function(){return l?a.RUNNING:p?a.OVER:a.PAUSING};var d=[];this.end=function(t){return d.push(t),this}}function i(t){return"string"==typeof t?o[t]?o[t]:void console.error("未找到预置的贝塞尔函数"):"[object Array]"===Object.prototype.toString.call(t)&&4===t.length?new o(t[0],t[1],t[2],t[3]):"function"==typeof t&&t instanceof o?t:void 0}var o=n(1),s=(n(0),n(2)),a={RUNNING:"RUNNING",PAUSING:"PAUSING",OVER:"OVER"};t.exports=r}])});