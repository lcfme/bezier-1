!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.bezierAnimation=e():t.bezierAnimation=e()}(this,function(){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=4)}([function(t,e,n){(function(e){var n=["moz","webkit"],i="AnimationFrame",r=e||window,o=r["request"+i],s=o,u=r["cancel"+i]||r["cancelRequest"+i],a=u;if(!o)for(var c=0;c<n.length;c++)o=r[n[c]+"Request"+i],u=r[n[c]+"Cancel"+i]||r[n+"CancelRequest"+i];if(!o||!u){var f=0,l=0,p=[];o=function(t){if(0==p.length){var e=Date.now(),n=Math.max(0,1e3/60-e+f),i=0==f?Math.round(1e3/60):Math.round(n);f=e+Math.round(n),setTimeout(function(){var t=p.slice(0);p.length>0&&(p=[]);for(var e=0,n=t.length;e<n;e++)try{t[e].canceled||t[e].callback(f)}catch(t){setTimeout(function(){throw t})}},i)}return p.push({id:++l,callback:t,canceled:!1}),l},u=function(t){for(var e=0,n=p.length;e<n;e++)p[e].id===t&&(p[e].canceled=!0)}}t.exports=function(t){return o.call(r,t)},t.exports.cancel=function(){u.apply(r,arguments)},t.exports.polyfill=function(){r.requestAnimationFrame=o,r.cancelAnimationFrame=u},t.exports.unPolyfill=function(){r.requestAnimationFrame=s,r.cancelAnimationFrame=a}}).call(e,n(3))},function(t,e){function n(t,e,n,i){this.cx=3*t,this.bx=3*(n-t)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*e,this.by=3*(i-e)-this.cy,this.ay=1-this.cy-this.by}var i=n.prototype;i.sampleCurveX=function(t){return((this.ax*t+this.bx)*t+this.cx)*t},i.sampleCurveY=function(t){return((this.ay*t+this.by)*t+this.cy)*t},i.sampleCurveDerivativeX=function(t){return(3*this.ax*t+2*this.bx)*t+this.cx},i.solveCurveX=function(t){for(var e,n,i=Math.abs,r=t,o=0;o<8;o++){if(n=this.sampleCurveX(r)-t,i(n)<1e-6)return r;if(e=this.sampleCurveDerivativeX(r),i(e)<1e-6)break;r-=n/e}var s=1,u=0;for(r=t;s>u;){if(n=this.sampleCurveX(r)-t,i(n)<1e-6)return r;n>0?s=r:u=r,r=(s+u)/2}return r},i.solve=function(t){return this.sampleCurveY(this.solveCurveX(t))},n.linear=new n(0,0,1,1),n.ease=new n(.25,.1,.25,1),n.easeIn=new n(.42,0,1,1),n.easeOut=new n(0,0,.58,1),n.easeInOut=new n(.42,0,.58,1),t.exports=n},function(t,e,n){function i(t){function e(t){n()}this.execute=function(n,i){return r(function(){n.progress=(n.passedTime+Date.now()-(n.startTime?n.startTime:Date.now()))/(1e3*n.duration),n.progress>=1&&(n.progress=1);for(var r=0,o=t.length;r<o;r++)t[r].call(null,n.progress.toFixed(6),i.solve(n.progress).toFixed(6));e()}),this};var n;this.then=function(t){"function"==typeof t&&(n=t)}}var r=n(0);t.exports=i},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){function i(t,e,n,o,u){if(!this instanceof i)return new i(t,e,n,o);var a,c=r(e);"function"==typeof n?a=new s([n]):"[object Array]"===Object.prototype.toString.call(n)&&(a=new s(n)),o||(o=0),/^[1-9]\d+$/.test(u)?u=parseInt(u):u?"infinite"===u&&(h=1):u=1;var f=!1,l=!0,p=null,h=u,m={startTime:0,passedTime:0,duration:t,progress:0};this.play=function(t){function e(){a.execute(m,c).then(function(){r()})}function n(){f=!1,l=!0,m.passedTime=0,m.startTime=0,m.progress=0,h=u,p=null;for(var t=0,e=v.length;t<e;t++)v[t]()}function i(){m.startTime=0,m.progress=0}function r(){f&&(m.progress>=1?"infinite"!==u?(h--,h>0?(i(),s.play(!0)):n()):(i(),s.play(!0)):e())}if(m.startTime||(m.startTime=Date.now()),f){if(!t)return this;if(0==h)return this}console.log("重新开始"),l&&(l=!1),f=!0;var s=this;return o?p?e():p=setTimeout(function(){m.startTime=Date.now(),e()},1e3*o):e(),this},this.stop=function(){if(!f)return this;m.passedTime=m.passedTime+(Date.now()-m.startTime),m.startTime=0,f=!1},this.isRunning=function(){return f},this.isDone=function(){return l},this.isStopped=function(){return!l&&!f};var v=[];this.end=function(t){return v.push(t),this}}function r(t){return"string"==typeof t?o[t]?o[t]:void console.error("未找到预置的贝塞尔函数"):"[object Array]"===Object.prototype.toString.call(t)&&4===t.length?new o(t[0],t[1],t[2],t[3]):"function"==typeof t&&t instanceof o?t:void 0}var o=n(1),s=(n(0),n(2));t.exports=i}])});