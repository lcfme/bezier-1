!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.bezierAnimation=n():t.bezierAnimation=n()}(this,function(){return function(t){function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}var e={};return n.m=t,n.c=e,n.i=function(t){return t},n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="",n(n.s=4)}([function(t,n,e){(function(n){var e=["moz","webkit"],i="AnimationFrame",o=n||window,r=o["request"+i],u=r,c=o["cancel"+i]||o["cancelRequest"+i],a=c;if(!r)for(var s=0;s<e.length;s++)r=o[e[s]+"Request"+i],c=o[e[s]+"Cancel"+i]||o[e+"CancelRequest"+i];if(!r||!c){var f=0,l=0,h=[];r=function(t){if(0==h.length){var n=Date.now(),e=Math.max(0,1e3/60-n+f),i=0==f?Math.round(1e3/60):Math.round(e);f=n+Math.round(e),setTimeout(function(){var t=h.slice(0);h.length>0&&(h=[]);for(var n=0,e=t.length;n<e;n++)try{t[n].canceled||t[n].callback(f)}catch(t){setTimeout(function(){throw t})}},i)}return h.push({id:++l,callback:t,canceled:!1}),l},c=function(t){for(var n=0,e=h.length;n<e;n++)h[n].id===t&&(h[n].canceled=!0)}}t.exports=function(t){return r.call(o,t)},t.exports.cancel=function(){c.apply(o,arguments)},t.exports.polyfill=function(){o.requestAnimationFrame=r,o.cancelAnimationFrame=c},t.exports.unPolyfill=function(){o.requestAnimationFrame=u,o.cancelAnimationFrame=a}}).call(n,e(3))},function(t,n){function e(t,n,e,i){this.cx=3*t,this.bx=3*(e-t)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*n,this.by=3*(i-n)-this.cy,this.ay=1-this.cy-this.by}var i=e.prototype;i.sampleCurveX=function(t){return((this.ax*t+this.bx)*t+this.cx)*t},i.sampleCurveY=function(t){return((this.ay*t+this.by)*t+this.cy)*t},i.sampleCurveDerivativeX=function(t){return(3*this.ax*t+2*this.bx)*t+this.cx},i.solveCurveX=function(t){for(var n,e,i=Math.abs,o=t,r=0;r<8;r++){if(e=this.sampleCurveX(o)-t,i(e)<1e-6)return o;if(n=this.sampleCurveDerivativeX(o),i(n)<1e-6)break;o-=e/n}var u=1,c=0;for(o=t;u>c;){if(e=this.sampleCurveX(o)-t,i(e)<1e-6)return o;e>0?u=o:c=o,o=(u+c)/2}return o},i.solve=function(t){return this.sampleCurveY(this.solveCurveX(t))},e.linear=new e(0,0,1,1),e.ease=new e(.25,.1,.25,1),e.easeIn=new e(.42,0,1,1),e.easeOut=new e(0,0,.58,1),e.easeInOut=new e(.42,0,.58,1),t.exports=e},function(t,n,e){function i(t){function n(t){e()}this.execute=function(){var e=arguments;return o(function(){for(var i=0,o=t.length;i<o;i++)t[i].apply(null,e);n()}),this};var e;this.then=function(t){"function"==typeof t&&(e=t)}}var o=e(0);t.exports=i},function(t,n){var e;e=function(){return this}();try{e=e||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(e=window)}t.exports=e},function(t,n,e){function i(t,n,e,r){if(!this instanceof i)return new i(t,n,e,r);var c,a=o(n);"function"==typeof e?c=new u([e]):"[object Array]"===Object.prototype.toString.call(e)&&(c=new u(e)),r||(r=0);var s=!1,f=!0,l=0,h=0,p=0,v=null;this.play=function(){function n(){l=(p+Date.now()-h)/(1e3*t),l>=1&&(l=1),c.execute(l.toFixed(6),a.solve(l).toFixed(6)).then(function(){i()})}function e(){s=!1,f=!0,p=0,h=0,l=0,v=null;for(var t=0,n=x.length;t<n;t++)x[t]()}function i(){s&&(l>=1?e():n())}h||(h=Date.now()),s||(f&&(f=!1),s=!0,r?v?n():v=setTimeout(function(){h=Date.now(),n()},1e3*r):n())},this.stop=function(){p=Date.now()-h,h=0,s=!1},this.isRunning=function(){return s},this.isDone=function(){return f},this.isStopped=function(){return!f&&!s};var x=[];this.end=function(t){x.push(t)}}function o(t){return"string"==typeof t?r[t]?r[t]:void console.error("未找到预置的贝塞尔函数"):"[object Array]"===Object.prototype.toString.call(t)&&4===t.length?new r(t[0],t[1],t[2],t[3]):"function"==typeof t&&t instanceof r?t:void 0}var r=e(1),u=(e(0),e(2));t.exports=i}])});
